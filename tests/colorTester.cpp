/*******************************************************************************
 *    INCLUDED FILES
 ******************************************************************************/
#include <CppUTest/TestHarness.h>

//-- module being tested
#include "../include/color.h"


/*******************************************************************************
 *    DEFINITIONS
 ******************************************************************************/

/*******************************************************************************
 *    PRIVATE TYPES
 ******************************************************************************/

/*******************************************************************************
 *    PRIVATE DATA
 ******************************************************************************/

/*******************************************************************************
 *    PRIVATE FUNCTIONS
 ******************************************************************************/

/*******************************************************************************
 *    SETUP, TEARDOWN
 ******************************************************************************/

/*******************************************************************************
 *    TESTS
 ******************************************************************************/

TEST_GROUP(ColorTest) {};

TEST(ColorTest, Color)
{
    Color c(-0.5, 0.4, 1.7);
    DOUBLES_EQUAL(-0.5, c.r(), EPSILON);
    DOUBLES_EQUAL(0.4, c.g(), EPSILON);
    DOUBLES_EQUAL(1.7, c.b(), EPSILON);
}

TEST(ColorTest, colorSum)
{
    Color c1(0.9, 0.6, 0.75);
    Color c2(0.7, 0.1, 0.25);
    Color c_sum(1.6, 0.7, 1);
    CHECK(c1 + c2 == c_sum);
}

TEST(ColorTest, colorDiff)
{
    Color c1(0.9, 0.6, 0.75);
    Color c2(0.7, 0.1, 0.25);
    Color c_sum(0.2, 0.5, 0.5);
    CHECK(c1 - c2 == c_sum);
}

TEST(ColorTest, colorProduct)
{
    Color c1(0.2, 0.3, 0.4);
    Color c_p1(0.4, 0.6, 0.8);
    CHECK(c1 * 2 == c_p1);

    Color c2(1, 0.2, 0.4);
    Color c3(0.9, 1, 0.1);
    Color c_p2(0.9, 0.2, 0.04);
    CHECK(c2 * c3 == c_p2);
}
